{"version":3,"sources":["components/Person.js","components/Message.js","services/persons.js","App.js","index.js"],"names":["Person","props","person","deletePerson","name","number","type","onClick","Message","message","className","baseUrl","personsService","addPerson","axios","post","then","response","data","removePerson","id","delete","getPersons","get","changeNumber","newNumber","updatedPerson","put","PersonForm","onSubmit","label","handleChange","onNameChange","value","newName","onNumberChange","TextInput","onChange","App","useState","persons","setPersons","setNewName","setNewNumber","filter","setFilter","setMessage","useEffect","personService","resetInput","createMessage","content","setTimeout","e","target","preventDefault","submittedPerson","find","newPersons","map","newPerson","addedPerson","concat","catch","error","alert","toLowerCase","includes","window","confirm","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.15752296.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Person = (props) => {\r\n  const { person, deletePerson } = props;\r\n\r\n  return (\r\n    <div>\r\n      {person.name} {person.number}{\" \"}\r\n      <button type=\"button\" onClick={deletePerson}>\r\n        delete\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Person;\r\n","import React from \"react\";\r\n\r\nconst Message = ({ message, type }) => {\r\n  if (message === null) {\r\n    return null;\r\n  }\r\n\r\n  return <div className={type}>{message}</div>;\r\n};\r\n\r\nexport default Message;\r\n","import axios from \"axios\";\r\n\r\nconst baseUrl = \"https://arcane-peak-57981.herokuapp.com/api/persons\";\r\n\r\nconst addPerson = (person) => {\r\n  const post = axios.post(baseUrl, person);\r\n  return post.then((response) => response.data);\r\n};\r\n\r\nconst removePerson = (id) => {\r\n  return axios.delete(`${baseUrl}/${id}`);\r\n};\r\n\r\nconst getPersons = () => {\r\n  const get = axios.get(baseUrl);\r\n  return get.then((response) => response.data);\r\n};\r\n\r\nconst changeNumber = (person, newNumber) => {\r\n  const updatedPerson = { ...person, number: newNumber };\r\n  const put = axios.put(`${baseUrl}/${person.id}`, updatedPerson);\r\n  return put.then((response) => response.data);\r\n};\r\n\r\nconst personsService = {\r\n  addPerson,\r\n  removePerson,\r\n  getPersons,\r\n  changeNumber,\r\n};\r\n\r\nexport default personsService;\r\n","import React, { useEffect, useState } from \"react\";\nimport Person from \"./components/Person\";\nimport Message from \"./components/Message\";\nimport personService from \"./services/persons\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [filter, setFilter] = useState(\"\");\n  const [message, setMessage] = useState({});\n\n  useEffect(() => {\n    personService.getPersons().then((data) => setPersons(data));\n  }, []);\n\n  const handleDeletePerson = (name, id) => {\n    if (window.confirm(`Are you sure you want to delete ${name}?`)) {\n      personService\n        .removePerson(id)\n        .then(() => {\n          const newPersons = persons.filter((person) => person.id !== id);\n          setPersons(newPersons);\n          createMessage(`Succesfully removed ${name} from server`, \"danger\");\n        })\n        .catch((error) => {\n          createMessage(\n            `Cannot remove ${name}. Was already removed from server.`,\n            \"danger\"\n          );\n        });\n    }\n  };\n\n  const handleNameSubmit = (e) => {\n    e.preventDefault();\n    const submittedPerson = persons.find((person) => person.name === newName);\n    if (!submittedPerson) {\n      const newPerson = { name: newName, number: newNumber };\n      personService\n        .addPerson(newPerson)\n        .then((addedPerson) => {\n          setPersons(persons.concat(addedPerson));\n          resetInput();\n          createMessage(`Added ${newName}`, \"success\");\n        })\n        .catch((error) => {\n          alert(`${newName} could not be added to the database.`);\n        });\n    } else {\n      personService\n        .changeNumber(submittedPerson, newNumber)\n        .then((updatedPerson) => {\n          const newPersons = persons.map((person) =>\n            person.id !== submittedPerson.id ? person : updatedPerson\n          );\n          setPersons(newPersons);\n          resetInput();\n          createMessage(`Updated ${newName}`, \"success\");\n        });\n    }\n  };\n\n  const resetInput = () => {\n    setNewName(\"\");\n    setNewNumber(\"\");\n  };\n\n  const createMessage = (content, type) => {\n    setMessage({ content, type });\n    setTimeout(() => setMessage({}), 5000);\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Message message={message.content} type={message.type} />\n      <div>\n        <TextInput\n          label=\"filter shown with\"\n          value={filter}\n          handleChange={(e) => setFilter(e.target.value)}\n        />\n      </div>\n      <h2>Add new</h2>\n      <PersonForm\n        onSubmit={handleNameSubmit}\n        onNameChange={(e) => setNewName(e.target.value)}\n        onNumberChange={(e) => setNewNumber(e.target.value)}\n        newName={newName}\n        newNumber={newNumber}\n      />\n      <h2>Numbers</h2>\n      {persons.map((person) => {\n        if (person.name.toLowerCase().includes(filter.toLowerCase())) {\n          return (\n            <Person\n              person={person}\n              key={person.name}\n              deletePerson={() => handleDeletePerson(person.name, person.id)}\n            />\n          );\n        } else {\n          return null;\n        }\n      })}\n    </div>\n  );\n};\n\nconst PersonForm = (props) => {\n  return (\n    <form onSubmit={props.onSubmit}>\n      <TextInput\n        label=\"name:\"\n        handleChange={props.onNameChange}\n        value={props.newName}\n      />\n      <TextInput\n        label=\"number:\"\n        handleChange={props.onNumberChange}\n        value={props.newNumber}\n      />\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  );\n};\n\nconst TextInput = (props) => {\n  const { handleChange, value, label } = props;\n  return (\n    <div>\n      {label} <input type=\"text\" onChange={handleChange} value={value} />\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}